<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SLXCA</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container nav-row">
        <div>
          <h1>SLXCA</h1>
          <p class="tag">Connect Canadian academics and entrepreneurs to build strategic
            industry projects.</p>
        </div>
        <nav class="main-nav">
          <a href="index.html" class="nav-link">Home</a>
          <a href="projects.html" class="nav-link">Projects</a>
        </nav>
        <div class="header-actions">
          <button id="export-data" class="btn" title="Export local data as JSON">Export Data</button>
          <button id="import-data" class="btn" title="Import local data from JSON">Import Data</button>
          <input id="import-file" type="file" accept="application/json" style="display:none" />
        </div>
      </div>
    </header>

    <main class="container">
      <section class="panel" id="submit-section">
        <h2>Submit a Paper</h2>
        <form id="paper-form">
          <input type="hidden" id="edit-project-id" />
          <label
            >Title<input
              required
              type="text"
              id="paper-title"
              placeholder="Paper title"
          /></label>
          <label
            >Authors<input
              type="text"
              id="paper-authors"
              placeholder="Authors, e.g. Jane Doe (UofT)"
          /></label>
          <label
            >Institution<select id="paper-institution">
              <option>University of Toronto</option>
              <option>McMaster University</option>
              <option>York University</option>
              <option>McGill University</option>
              <option>University of British Columbia</option>
              <option>Other</option>
            </select></label
          <label
            >Stage<select id="paper-stage">
              <option>Idea</option>
              <option>Prototype</option>
              <option>Funded</option>
              <option>Research</option>
            </select></label>
          >
          <label
            >Abstract<textarea
              id="paper-abstract"
              rows="4"
              placeholder="Short abstract / summary"
            ></textarea>
          </label>
          <label
            >Strategic advantage (pick up to 3)
            <div class="chips" id="advantage-chips">
              <button type="button" class="chip">Nuclear</button>
              <button type="button" class="chip">Cheap Energy</button>
              <button type="button" class="chip">Resources</button>
              <button type="button" class="chip">Land & Lumber</button>
              <button type="button" class="chip">Data Centres</button>
              <button type="button" class="chip">Methane</button>
              <button type="button" class="chip">AI / Compute</button>
            </div>
          </label>
          <fieldset id="project-traits" style="margin-top:8px;border:1px dashed rgba(255,255,255,0.03);padding:10px;border-radius:8px">
            <legend style="font-size:13px;color:var(--muted);">Project trait profile (optional)</legend>
            <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px">
              <label>Drive
                <select id="proj-trait-drive"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Collaboration
                <select id="proj-trait-collaboration"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Technical
                <select id="proj-trait-technical"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Risk aversion
                <select id="proj-trait-risk_aversion"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Speed
                <select id="proj-trait-speed"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Compliance
                <select id="proj-trait-compliance"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Scale
                <select id="proj-trait-scale"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
              <label>Long term
                <select id="proj-trait-long_term"><option value="">—</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>
              </label>
            </div>
            <div class="small" style="margin-top:8px;color:var(--muted)">Optional: declare the project's ideal trait profile (1=low .. 5=high). Used to visualize and improve matching.</div>
          </fieldset>
          <div class="form-row">
            <button id="submit-paper" type="submit" class="btn primary">
              Submit Paper
            </button>
            <button id="cancel-edit" type="button" class="btn" style="display:none">Cancel Edit</button>
            <button id="reset-form" type="button" class="btn">Reset</button>
          </div>
        </form>
      </section>

      <section class="panel" id="browse-section">
        <h2>Browse Projects</h2>
        <div id="projects-list"></div>
      </section>

      <section class="panel" id="personality-section">
        <h2>Role Profile</h2>
        <p>
          Complete the short profile to help matching (role preference &
          skills).
        </p>
        <form id="profile-form">
          <label
            >Your name<input
              required
              type="text"
              id="user-name"
              placeholder="Full name"
          /></label>
          <label
            >Email<input
              type="email"
              id="user-email"
              placeholder="name@domain.ca"
          /></label>
          <label
            >Role preference
            <select id="role-pref">
              <option>Entrepreneur / Founder</option>
              <option>Engineer / Technical Lead</option>
              <option>Product Manager</option>
              <option>Researcher / Academic</option>
              <option>Specialist / Advisor</option>
            </select>
          </label>
          <label
            >Primary skills (comma separated)
            <input
              type="text"
              id="user-skills"
              placeholder="e.g. ML, distributed-systems, energy-systems"
            />
          </label>
            <div class="field">
              <label>Trait summary (normalized)</label>
              <div id="trait-summary" class="trait-summary">
                <!-- bars will render here -->
              </div>
            </div>
            <div class="field">
              <label>Radar view</label>
              <div style="display:flex;gap:12px;align-items:center;">
                <div id="trait-radar" style="width:160px;height:160px"></div>
                <div class="small" style="max-width:220px">Circular radar visualization of your normalized traits (0–100%). Useful for quick visual comparison to project needs.</div>
              </div>
              <div class="trait-legend">Normalization: answers 1–5 are scaled to 0–100% (1 → 0%, 3 → 50%, 5 → 100%). Bars and radar use the same normalized values. Answering more questions improves reliability. <a id="legend-open" href="#" class="muted-link">How it works</a></div>
            </div>
          <div class="form-row">
            <button type="submit" class="btn primary">Save Profile</button>
            <button id="clear-profile" type="button" class="btn">Clear</button>
          </div>
        </form>

        <div id="matching-result" class="match-panel"></div>

        <div class="panel" id="personality-test-panel">
          <h3>Personality / Preferences (short)</h3>
          <p class="small">Answer the short 8-question survey to improve matching. Select how much you agree (1=Disagree, 5=Agree).</p>
          <form id="personality-form">
            <div id="questions"></div>
            <div class="form-row">
              <button type="submit" class="btn primary">Save Personality</button>
              <button id="clear-personality" type="button" class="btn">Clear</button>
            </div>
          </form>
        </div>
      </section>

      <section class="panel" id="courses-section">
        <h2>Courses</h2>
        <div id="courses-list"></div>
      </section>

    <script src="app.js"></script>
    <footer class="site-footer">
      <button id="seed-demo" class="btn seed-btn">Seed demo data</button>
    </footer>
    <div id="how-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="how-modal-title" aria-describedby="how-modal-desc">
      <div class="modal-card">
  <h3 id="how-modal-title">How trait normalization works</h3>
  <div class="visually-hidden">Press Escape to close this dialog.</div>
  <p id="how-modal-desc" class="small">Each question is answered on a 1	6 scale. For each trait we average the answers of the questions that map to that trait. A trait average of 1 maps to 0% (low), 3 maps to 50%, and 5 maps to 100% (high). The bars and radar both use the same normalized values for consistency.</p>
        <p class="small">This is a lightweight, client-side heuristic to help match people and projects. For better accuracy answer all questions and consider adding more items or reverse-scored questions in future iterations.</p>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
          <button id="how-close" class="btn" type="button" aria-label="Close dialog">Close</button>
        </div>
      </div>
        <!-- Import preview modal -->
        <div id="import-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="import-modal-title" aria-describedby="import-modal-desc">
          <div class="modal-card">
            <h3 id="import-modal-title">Import preview</h3>
            <div class="visually-hidden">Press Escape to close this dialog.</div>
            <div id="import-modal-desc" class="small">Preview data before importing.</div>
            <div id="import-preview" style="margin-top:12px"></div>
            <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
              <button id="import-overwrite" class="btn primary">Overwrite</button>
              <button id="import-merge" class="btn">Merge</button>
              <button id="import-cancel" class="btn">Cancel</button>
            </div>
          </div>
        </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', ()=>{
        const seed = document.getElementById('seed-demo');
        if(seed){ seed.onclick = ()=>{ if(window._canapp && window._canapp.seedDemo) window._canapp.seedDemo(); } }
      })
    </script>
  </body>
</html>
